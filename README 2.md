# Class

# Function

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `setEvent()`

重置回调函数，通过发送事件方式实现

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preAndroidParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): {"status": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(data: *): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| data | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `processData(params: {}): {"type": *, "index": *, "imgs": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: *): Promise<*[]>`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | params.target: 'weixin': '2','zhifubao': '8','qq': '3','weibo': '1','taobao': '6' |

## `preParamAndroid(params: {}): {"target": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME()`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAnd(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): Promise<*>`

阅读小礼包选中书籍后通知客户端

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | { "packageName":"xx", //必填。包名 "downloadUrl":"", //必填。下载地址 } |

## `CB_NAME(result: *): Promise<void>`

本 API 的全局。主要接受书旗android的回调

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | { "packageName":"xx", //必填。包名 "downloadUrl":"", //必填。下载地址 } |

## `CB_NAME(data: *): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| data | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(data: *): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| data | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(data: *): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| data | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | { "packageName":"xx", //必填。包名 "downloadUrl":"", //必填。下载地址 } |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(result: *): Promise<void>`

本 API 的全局。主要接受书旗android的回调

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | { "packageName":"xx", //必填。包名 "downloadUrl":"", //必填。下载地址 } |

## `CB_NAME(result: *): Promise<void>`

本 API 的全局。主要接受书旗android的回调

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | { "packageName":"xx", //必填。包名 "downloadUrl":"", //必填。下载地址 } |

## `CB_NAME(result: string): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | string | nullable: undefined, optional: true, default: {} |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(result: *): Promise<void>`

本 API 的全局。主要接受书旗android的回调

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | { "packageName":"xx", //必填。包名 "downloadUrl":"", //必填。下载地址 } |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamCloseLoading(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamShowError(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `CB_NAME(result: string): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | string | nullable: undefined, optional: true, default: {} |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(result: *): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |

## `preParamAndroid(params: *): *`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | downLoadType："0|1" //下载类型（0为全本下载，1为免费章节下载） |

## `CB_NAME(result: string): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | string | nullable: undefined, optional: true, default: {} |

## `addPendingTask(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(result: {}): {"bookMarks": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(result: string): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | string | nullable: undefined, optional: true, default: {} |

## `addPendingTask(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `CB_NAME_IOS(): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `CB_NAME_ANDROID(result: string)`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | string | nullable: undefined, optional: true, default: {} |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `postResult(result: *, params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAnd(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAnd(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(result: *): Promise<void>`

本 API 的全局。主要接受书旗android的回调

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android支持了获取三方类型传参

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `preParamTMAnd(params: {}): *`

天猫入参，将callback设置进去

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamMiNi_AliPay(): *`

支付宝小程序入参

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `CB_NAME(): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(result: *, params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamMiNi_AliPay(): Promise.<{event: string, data: {path: string}}>`

支付宝小程序

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `WVPreParam(params: *[]): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | *[] | nullable: undefined, optional: true, default: [] |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAnd(): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `preParamIOS(params: {}): {"url": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamAndroid(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `postResult(r: *): boolean`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| r | * | nullable: undefined |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME()`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamIOS(params.platform: String, params.shareUrl: String, params.imgUrl: String, params.shareTitle: String, params.shareContent: String, params.shareFrom: String): Promise<*>`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params.platform | String |  | 分享的平台,all:全平台;qq:qq分享 (仅android) |
| params.shareUrl | String |  | 分享跳转的链接地址 |
| params.imgUrl | String |  | 分享的图片地址 |
| params.shareTitle | String |  | 分享标题 |
| params.shareContent | String |  | 分享描述内容 |
| params.shareFrom | String |  | 分享的业务来源 |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: Object, params.type: string, params.rootMid: string, params.rootUid: string, params.url: string, params.source: string, params.authorId: string): *`

android 评论详情桥所需参数

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | Object |  | 传入参数 |
| params.type | string |  | 0:reply(评论详情页) ,1:comment (打开评论), 2:detail(打开书评区) |
| params.rootMid | string |  |
| params.rootUid | string |  |
| params.url | string |  |
| params.source | string |  |
| params.authorId | string |  |

## `preParam(params: {}): {"bookId": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): {"bookId": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamAndroid(params: *): Promise.<{bookId: *, topClass: string, status: number}>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `preParamTM(params: *): Promise.<{backHome: boolean, route: [null]}>`

天猫android ios

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `preParamMiNi_TMReader(params: *): Promise.<{event: string, data: {path: string}}>`

天猫小程序

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `preParamMiNi_SQReader(params: *): Promise.<{event: string, data: {actionType: string, scheme: string}}>`

书旗小程序

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `preParamIOS(): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamAndroid(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamTM(): Promise.<{backHome: boolean, route: [null]}>`

天猫android ios

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamMiNi_TMReader(): Promise.<{event: string}>`

天猫小程序

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamMiNi_SQReader(): Promise.<{event: string}>`

书旗小程序

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `CB_NAME(result: *): Promise<void>`

本 API 的全局。主要接受书旗android的回调

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAnd(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamIOS(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamAndroid(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamIOS(): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamAndroid(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `CB_NAME(): Promise<void>`

本 API 的全局

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamAndroid(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

openWebPage Android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamIOS(): *`

openWebPage iOS

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): {"bookId": *, "title": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `anPreParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): {"shareTitle": *, "shareUrl": *, "shareContent": *, "shareFrom": *, "imgUrl": *}`

shareUrl: 分享跳转的链接地址 imgUrl: 分享的图片地址 from: 分享的业务来源 title: 分享标题 content: 分享描述内容

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamWV(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): {"talkId": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamAndroid(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): {"topicId": *}`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamAndroid(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

openWebPage Android书旗

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamIOS(params: {}): *`

openWebPage iOS书旗

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamCouponIOS(params: {}): *`

openCouponInfo iOS

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamTM(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamMiNi_TMReader(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamMiNi_SQReader(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): undefined[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `postResult(pasteText: *): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| pasteText | * | nullable: undefined |

## `preParamIOS(params: {}): {"bookId": *}`

暂不支持 chapterId

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamAndroid(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamCommon(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamIOS(params: Object, params.bookId: number, params.bookName: string, params.authorName: string, params.firstChapterId: number, params.coverUrl: string, params.formats: string, params.miguBookId: string, params.topClass: string, params.readChapterId: number, params.readChapterName: string, params.readChapterIndex: number): Promise<{}>`

打开收费阅读页

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | Object |  |
| params.bookId | number |  | 书籍 id |
| params.bookName | string |  | 书籍名称 |
| params.authorName | string |  | 作者名 |
| params.firstChapterId | number |  | 第一章 id |
| params.coverUrl | string |  | 封面 URL |
| params.formats | string |  | 1 普通书籍，2 epub 书籍 |
| params.miguBookId | string |  | 咪咕书籍 id |
| params.topClass | string | optional: true | 书籍类型（502 网文，503 出版物，666 漫画，667 轻小说） |
| params.readChapterId | number | optional: true | 阅读章节 id |
| params.readChapterName | string | optional: true | 阅读章节名 |
| params.readChapterIndex | number | optional: true | 阅读章节序号，和阅读章节不共存（从 1 开始） |

## `preParamAndroid(params: Object, params.bookId: number, params.bookName: string, params.authorName: string, params.authorId: string, params.firstChapterId: number, params.coverUrl: string, params.formats: string, params.monthlyFlag: boolean, params.miguBookId: string, params.topClass: string, params.readChapterId: number, params.readChapterName: string, params.readChapterIndex: number): Promise<{}>`

打开收费阅读页

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | Object |  |
| params.bookId | number |  | 书籍 id |
| params.bookName | string |  | 书籍名称 |
| params.authorName | string |  | 作者名 |
| params.authorId | string |  | 作者名 |
| params.firstChapterId | number |  | 第一章 id |
| params.coverUrl | string |  | 封面 URL |
| params.formats | string |  | 1 普通书籍，2 epub 书籍 |
| params.monthlyFlag | boolean |  | 包月书状态：true/false |
| params.miguBookId | string |  | 咪咕书籍 id |
| params.topClass | string | optional: true | 书籍类型（502 网文，503 出版物，666 漫画，667 轻小说） |
| params.readChapterId | number | optional: true | 阅读章节 id |
| params.readChapterName | string | optional: true | 阅读章节名 |
| params.readChapterIndex | number | optional: true | 阅读章节序号，和阅读章节不共存（从 1 开始） |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): string[]`

Create by 经笥 on 2018/10/12

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamAndroid(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQIOS(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAndroid(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamsWv(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamMiNi_TMReader(params: *): Promise.<{event: string, data: {path: string}}>`

天猫小程序

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `preParamMiNi_SQReader(params: *): Promise.<{event: string, data: {actionType: string, scheme: string}}>`

书旗小程序

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `CB_NAME(data: *)`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| data | * | nullable: undefined |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(result: *): Promise<void>`

本 API 的全局。主要接受书旗android的回调

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * | nullable: undefined |

## `addPendingTask(): Promise<*>`

将需要等待回调的任务添加到任务队列

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `postResult(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | style："1"普通弹框，"2"大图弹框 image：大图弹框的图 title：普通弹框的标题 content：普通弹框的内容 okButton：普通弹框的确认按钮 cancelButton：普通弹框的取消按钮 |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | message:展示的文本 |

## `preParamSQAnd(params: *): Promise.<[string,string,null,string]>`

书旗android

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  | "id":"xx", //皮肤id, "imgUrl":"xx", //皮肤封面图片地址 "name":"xx", //皮肤名称 "size":"xx", //皮肤包大小 "downloadUrl":"xx", //下载地址 "desc":"xx", //皮肤描述，非必需 "version":"xx" //皮肤包版本 |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `preParam(params: {}): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(data: *)`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| data | * | nullable: undefined |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `CB_NAME(data: *)`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| data | * | nullable: undefined |

## `preParam(params: {}): string[]`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | {} | nullable: undefined, optional: true, default: {} |

## `provideSyncLib()`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `provideReadyHook()`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `bootstrap()`

启动 JS SDK 1\. 提供全局同步调用方法 1\. 初始化全局环境识别（基于 UserAgent），见 {@link bootstrapGlobalEnv}。 1\. 初始化 JS SDK 本体，见 {@link bootstrapGlobalLib}。 1\. 初始化全局事件通知机制，见 {@link initGlobalEvents}。 1\. 并发执行数组中已经存在的指令 FIFO 1\. 触发 ready 事件

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `cloneJSON(obj: Object): Object`

简单粗暴的 JSON 克隆，如果是传入的普通 `Object`，里面的 `function` 会丢失

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| obj | Object |  | 待克隆的 JSON 对象 |

## `detectEnv(env: Object): Promise<Environment>`

检测当前运行环境

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| env | Object | optional: true | 用来初始化的环境对象 |

## `adjustEnvForOldIOSClient(env: *): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| env | * | nullable: undefined |

## `bindEvent(eventName: string, eventHandler: Function, eventTarget: HTMLElement): Function`

绑定事件至指定 DOM 元素

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| eventName | string | optional: true, default: INTERNAL_CLIENT_EVENT | 事件名，默认为{@link INTERNAL_CLIENT_EVENT} |
| eventHandler | Function | optional: true | 事件处理函数 |
| eventTarget | HTMLElement | optional: true, default: document | DOM 元素 |

## `unbindEvent(eventName: string, eventHandler: Function, eventTarget: HTMLElement): boolean`

解除绑定事件至指定 DOM 元素

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| eventName | string | optional: true, default: INTERNAL_CLIENT_EVENT | 事件名，默认为{@link INTERNAL_CLIENT_EVENT} |
| eventHandler | Function |  | 事件处理函数 |
| eventTarget | HTMLElement | optional: true, default: document | DOM 元素 |

## `buildEvent(eventName: string, payload: Object): CustomEvent`

生成 `CustomEvent`，包含无 `CustomEvent` constructor 兼容

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| eventName | string |  | 事件名 |
| payload | Object | optional: true, default: {} | `detail` 里的数据 |

## `dispatchEvent(event: CustomEvent, eventTarget: EventTarget): Promise<boolean>`

发出事件

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| event | CustomEvent |  | 发出的事件 |
| eventTarget | EventTarget | optional: true, default: document | 发出事件的 DOM 元素，默认 `document` |

## `dispatchAsEvent(eventName: string, payload: Object, eventTarget: EventTarget): Promise<boolean>`

创建事件并发送

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| eventName | string |  | 事件名 |
| payload | Object | optional: true, default: {} | `detail` 里的数据 |
| eventTarget | EventTarget | optional: true, default: document | 发出事件的 DOM 元素，默认 `document` |

## `parseClientEvent(event: Object, event.param: Object, event.param.event: string, event.param.data: *): Object|null`

解析 `clientEvent`，根据与客户端的约定，传递过来的事件参数是在 data 的 param 属性中。

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| event | Object |  | 从客户端传递来的事件 |
| event.param | Object |  | 客户端事件内容的封装 |
| event.param.event | string |  | 客户端事件的服务名 |
| event.param.data | * | optional: true | 事件的 payload |

## `clientEventDispatcher(event: *)`

解析并转发从客户端发来的事件

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| event | * |  | {Event} |

## `getApiByCMDName(cmdName: string): Promise<Command>|Promise<null>`

根据指令名称，查找指令

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| cmdName | string |  | 指令名 |

## `isCMDSupported(cmd: Command): Promise<void>`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| cmd | Command |  | 查找到的指令，查找不到返回 `null` |

## `exec(cmdName: string, cmdParams: Object, cmdParams.params: Object, cmdParams.success: function, cmdParams.error: function, cmdParams.callback: function): *`

执行命令

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| cmdName | string |  | 指令名 |
| cmdParams | Object | optional: true, default: {} | 指令参数 |
| cmdParams.params | Object | optional: true, default: {} | 传递给底层 API 的调用参数 |
| cmdParams.success | function | optional: true | 调用 API 成功时的回调，同 `Promise` 形式的 `then`，建议只在使用数组形式接口时使用。 |
| cmdParams.error | function | optional: true | 调用 API 失败时的回调，同 `Promise` 形式的 `catch`，建议只在使用数组形式接口时使用。 |
| cmdParams.callback | function | optional: true | API 实现的功能所需要的系统回调，建议只在非 `WindVane` 模式下使用， `WindVane` 环境下会触发消息事件 |

## `getLegacyBridge(): Promise<Object>`

获取客户端桥，书旗：anShuqiForSqWebJS。天猫android：tbreader

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `delayedGetLegacyBridge(): *`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `execLegacy(methodName: *, params: ...*): *`

调用旧客户端桥，对象.call方法，android windwane也是这样调用

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| methodName | * | nullable: undefined |
| params | ...* | nullable: undefined |

## `execWV(objectPattern: {"className": *, "methodName": *, "params": *, "timeout": *}): *`

调用 WindVane，使用以下方式来调用客户端提供的功能： `window.WindVane.call(className, methodName, params, successCallback, failureCallback, timeout)` 在支持 Promise 的环境下，不添加 successCallback 和 failureCallback 时，返回 Promise，所以封装时， 不传入 successCallback 和 failureCallback

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| objectPattern | {"className": *, "methodName": *, "params": *, "timeout": *} | nullable: undefined, default: {"className":null,"methodName":null,"params":null,"timeout":null} |

## `execMiNi(methodName: *, params: *): Promise.<void>`

处理小程序的桥

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| methodName | * |  |
| params | * |  |

## `flushCMDs(): Promise<void>`

执行全局队列中的待执行指令，直接并发执行。

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `decodeResult(result: *): *`

对返回结果的对象的顶级 `key` 进行 `decodeURIComponent`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| result | * |  |

## `encodeParams(params: *): *`

对参数的对象的顶级 `key` 进行 `encodeURIComponent`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| params | * |  |

## `generateAPI(apiConfigs: APIConfigs): Promise<void>`

生成 API

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| apiConfigs | APIConfigs |  | 多环境下的 API 配置合集，根据传入的 key，自动添加 supports |

## `genericLifeCycle(env: *, config: *, params: *): Promise.<*>`

真正的桥的调用

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| env | * |  |
| config | * |  |
| params | * |  |

## `wvWrapper(env: *, config: *, params: *): Promise`

ios windwane调用的桥

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| env | * |  |
| config | * |  |
| params | * |  |

## `legacyWrapper(env: *, config: *, params: *): Promise`

端上的桥调用

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| env | * |  |
| config | * |  |
| params | * |  |

## `miniWrapper(env: *, config: *, params: *): Promise`

小程序

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| env | * |  |
| config | * |  |
| params | * |  |

## `generateSDKError(errorName: string): ErrorConstant`

从 SDK 错误列表中生成错误常量

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| errorName | string |  | 错误名 |

## `bootstrapGlobalEnv(env: Object): Promise<Environment>`

初始化全局环境参数 1\. 识别设备、平台 1\. 识别是否在 App 中 1\. 识别是否在 WindVane 环境中

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| env | Object | optional: true | 用来初始化的环境对象 |

## `getGlobalEnv(): Promise<Object>`

获取全局环境识别参数

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `fakePush(cmd: Array, cmd[0]: string, cmd[1]: Object): Promise<*|void>`

更换 push 方法

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| cmd | Array |  | 要调用的方法及参数 |
| cmd[0] | string |  | 方法名 |
| cmd[1] | Object |  | 调用的参数，{@link exec} |

## `bootstrapGlobalLib(g: Array): Promise<Array>`

初始化全局数组

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| g | Array | optional: true | 传入的全局数组 |

## `getGlobalLib(): Promise<Array>`

获取全局数组变量

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `initGlobalEvents(): Promise<Boolean>`

绑定全局事件，注册全局事件分发监听

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |

## `isArray(obj: *): boolean`

检查是否为数组

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| obj | * |  | 待检验的对象 |

## `isUndefined(obj: *): boolean`

检查是否为 `undefined`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| obj | * |  | 待检验的对象 |

## `isFunction(obj: *): boolean`

检查是否为 `function`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| obj | * |  | 待检验的对象 |

## `isObject(obj: *): boolean`

检查是否为 `object`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| obj | * |  | 待检验的对象 |

## `isNumber(obj: *): boolean`

检查是否为 `number`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| obj | * |  | 待检验的值 |

## `isString(obj: *): boolean`

检查是否为 `string`

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| obj | * |  | 待检验的值 |

## `debugAlert(rest: *): Promise<void>`

调试用的dialog统一用这个，方便管理和屏蔽

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| rest | * |  | 透传参数 |

## `log(rest: ...*): Promise<void>`

封装 `console.log` 方法

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| rest | ...* |  | 透传参数 |

## `warn(rest: ...*): Promise<void>`

封装 `console.warn` 方法

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| rest | ...* |  | 透传参数 |

## `error(rest: ...*): Promise<void>`

封装 `console.error` 方法

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| rest | ...* |  | 透传参数 |

## `debug(rest: ...*): Promise<void>`

封装 `console.debug` 方法

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| rest | ...* |  | 透传参数 |

## `info(rest: ...*): Promise<void>`

封装 `console.info` 方法

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| rest | ...* |  | 透传参数 |

## `alert(rest: ...*): Promise<void>`

封装 `window.alert` 方法

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| rest | ...* |  | 透传参数 |

## `unifiedErrorHandler(executable: function, params: *): Promise<*>`

执行函数后，统一处理函数出错，封装成内部错误

| Name | Type | Attribute | Description |
| --- | --- | --- | --- |
| executable | function |  | 可执行函数 |
| params | * |  | 传递的参数 |